<Window x:Class="leituraWPF.UpdatePromptWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Atualização Disponível - One Engenharia"
        Width="520" Height="320"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="#f4f7fa"
        ShowInTaskbar="False"
        WindowStyle="None"
        AllowsTransparency="True">

    <Window.Resources>
        <!-- Botão Primário -->
        <Style x:Key="PrimaryButton" TargetType="Button">
            <Setter Property="Background" Value="#007ACC"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Padding" Value="20,12"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Margin" Value="0,0,12,0"/>
            <Setter Property="MinWidth" Value="140"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                CornerRadius="8"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#0585db"/>
                    <Setter Property="Effect">
                        <Setter.Value>
                            <DropShadowEffect Color="#007ACC" BlurRadius="12" ShadowDepth="2" Opacity="0.3"/>
                        </Setter.Value>
                    </Setter>
                </Trigger>
                <Trigger Property="IsPressed" Value="True">
                    <Setter Property="Background" Value="#005a99"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- Botão Secundário -->
        <Style x:Key="SecondaryButton" TargetType="Button">
            <Setter Property="Background" Value="#ffffff"/>
            <Setter Property="Foreground" Value="#495057"/>
            <Setter Property="Padding" Value="20,12"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="BorderBrush" Value="#dee2e6"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Margin" Value="0,0,12,0"/>
            <Setter Property="MinWidth" Value="120"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="8"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#f8f9fa"/>
                    <Setter Property="BorderBrush" Value="#007ACC"/>
                </Trigger>
                <Trigger Property="IsPressed" Value="True">
                    <Setter Property="Background" Value="#e9ecef"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- Botão Fechar -->
        <Style x:Key="CloseButton" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#6c757d"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Width" Value="32"/>
            <Setter Property="Height" Value="32"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" CornerRadius="16">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#f8f9fa"/>
                    <Setter Property="Foreground" Value="#dc3545"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- Card Style -->
        <Style x:Key="CardStyle" TargetType="Border">
            <Setter Property="Background" Value="#ffffff"/>
            <Setter Property="CornerRadius" Value="16"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect Color="#223c5c" Opacity="0.12" BlurRadius="24" ShadowDepth="4"/>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Info Box Style -->
        <Style x:Key="InfoBoxStyle" TargetType="Border">
            <Setter Property="Background" Value="#e3f2fd"/>
            <Setter Property="BorderBrush" Value="#bbdefb"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="Padding" Value="16,12"/>
            <Setter Property="Margin" Value="0,16,0,16"/>
        </Style>

        <!-- Title Style -->
        <Style x:Key="TitleStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="20"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="#212529"/>
            <Setter Property="TextAlignment" Value="Center"/>
            <Setter Property="Margin" Value="0,0,0,8"/>
        </Style>

        <!-- Subtitle Style -->
        <Style x:Key="SubtitleStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Foreground" Value="#6c757d"/>
            <Setter Property="TextAlignment" Value="Center"/>
            <Setter Property="Margin" Value="0,0,0,20"/>
        </Style>

        <!-- Version Label Style -->
        <Style x:Key="VersionLabelStyle" TargetType="TextBlock">
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Foreground" Value="#495057"/>
        </Style>

        <!-- Version Value Style -->
        <Style x:Key="VersionValueStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Foreground" Value="#007ACC"/>
            <Setter Property="FontWeight" Value="Medium"/>
        </Style>
    </Window.Resources>

    <!-- Container Principal -->
    <Border Style="{StaticResource CardStyle}" Margin="8">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Header com botão fechar -->
            <Grid Grid.Row="0" Margin="24,20,24,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Ícone e Título -->
                <StackPanel Grid.Column="0" Orientation="Horizontal" HorizontalAlignment="Center">
                    <Border Background="#e3f2fd" CornerRadius="25" Width="50" Height="50" 
                            HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,0,16,0">
                        <Path Data="M12,1L21,5V11C21,16.55 17.16,21.74 12,23C6.84,21.74 3,16.55 3,11V5L12,1M12,3.18L5,6.3V11A10.54,10.54 0 0,0 12,21A10.54,10.54 0 0,0 19,11V6.3L12,3.18M15.75,10L14.34,8.59L10.5,12.42L8.66,10.59L7.25,12L10.5,15.25L15.75,10Z" 
                              Fill="#007ACC" Width="24" Height="24" Stretch="Uniform" 
                              HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                    <StackPanel VerticalAlignment="Center">
                        <TextBlock Text="🔄 Atualização Disponível" Style="{StaticResource TitleStyle}" TextAlignment="Left"/>
                        <TextBlock Text="Nova versão encontrada" Style="{StaticResource SubtitleStyle}" TextAlignment="Left"/>
                    </StackPanel>
                </StackPanel>

                <!-- Botão Fechar -->
                <Button x:Name="BtnClose" Grid.Column="1" Style="{StaticResource CloseButton}" 
                        Content="✕" VerticalAlignment="Top" Click="BtnLater_Click"/>
            </Grid>

            <!-- Conteúdo Principal -->
            <StackPanel Grid.Row="1" Margin="24,12,24,20">

                <!-- Informações das Versões -->
                <Border Style="{StaticResource InfoBoxStyle}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Versão Atual -->
                        <StackPanel Grid.Column="0" Margin="0,0,12,0">
                            <TextBlock Text="📦 Versão Atual" Style="{StaticResource VersionLabelStyle}" Margin="0,0,0,4"/>
                            <TextBlock x:Name="LblLocalVer" Text="v1.0.0" Style="{StaticResource VersionValueStyle}"/>
                        </StackPanel>

                        <!-- Nova Versão -->
                        <StackPanel Grid.Column="1" Margin="12,0,0,0">
                            <TextBlock Text="🚀 Nova Versão" Style="{StaticResource VersionLabelStyle}" Margin="0,0,0,4"/>
                            <TextBlock x:Name="LblRemoteVer" Text="v2.0.0" Style="{StaticResource VersionValueStyle}"/>
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- Descrição -->
                <TextBlock TextWrapping="Wrap" FontSize="14" Foreground="#495057" LineHeight="22"
                           Text="Para aplicar a atualização, o aplicativo será fechado e reiniciado automaticamente. Todos os dados não salvos serão preservados."
                           Margin="0,0,0,12"/>

                <!-- Status de Auto-atualização -->
                <Border Background="#fff3cd" BorderBrush="#ffeaa7" BorderThickness="1" 
                        CornerRadius="8" Padding="12,8" Margin="0,0,0,8">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="⏱️" FontSize="16" VerticalAlignment="Center" Margin="0,0,8,0"/>
                        <TextBlock x:Name="TxtAuto" Text="A atualização será aplicada automaticamente"
                                   FontSize="13" Foreground="#856404" VerticalAlignment="Center"
                                   FontStyle="Italic"/>
                    </StackPanel>
                </Border>
            </StackPanel>

            <!-- Footer com Botões -->
            <Border Grid.Row="2" Background="#f8f9fa" CornerRadius="0,0,16,16" Padding="24,16">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button x:Name="BtnLater" Content="⏳ Mais Tarde" 
                            Style="{StaticResource SecondaryButton}" 
                            Click="BtnLater_Click"/>
                    <Button x:Name="BtnNow" Content="🔄 Atualizar Agora"
                            Style="{StaticResource PrimaryButton}" 
                            Click="BtnNow_Click"/>
                </StackPanel>
            </Border>
        </Grid>
    </Border>
</Window>